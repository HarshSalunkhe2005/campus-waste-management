{% extends "base.html" %}
{% block title %}Record Beneficiaries{% endblock %}
{% block content %}
<div class="container">
    <div class="form-card">
        <h2><i class="bi bi-person-heart"></i> Report Donation Impact</h2>
        <p style="text-align: center; margin-top: -20px; margin-bottom: 30px; color: #6c757d;">Log how many people were served by a completed donation.</p>
        
        <form method="POST" action="{{ url_for('ngo_record_beneficiaries') }}" class="card-form">
            <div class="mb-3">
                <label for="donation_id" class="form-label">Select Completed Donation</label>
                <select class="form-select" id="donation_id" name="donation_id" required>
                    <option value="" disabled selected>-- Select a donation to report on --</option>
                    {% for donation in completed_donations %}
                        <option value="{{ donation.donation_id }}">
                            {{ donation.item_name }} from {{ donation.canteen_name }} 
                            {% if donation.approved_time %}
                                (Approved: {{ donation.approved_time.strftime('%b %d') }})
                            {% else %}
                                (Pending Approval)
                            {% endif %}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="mb-3">
                <label for="people_served" class="form-label">Number of People Served</label>
                <input type="number" class="form-control" id="people_served" name="people_served" placeholder="e.g., 50" required min="1">
            </div>

            <div class="mb-3">
                <label for="location" class="form-label">Distribution Location (Optional)</label>
                <input type="text" class="form-control" id="location" name="location" placeholder="e.g., City Park Community Shelter">
            </div>

            <button type="submit" class="btn btn-primary w-100">Submit Impact Report</button>
        </form>
    </div>
</div>
{% endblock %}